<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Google-Bewertungen – Antwortgenerator</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 40px auto; padding: 0 16px; }
    h1 { font-size: 34px; margin: 0 0 10px; }
    p { margin: 0 0 16px; color: #333; }
    textarea { width: 100%; min-height: 160px; padding: 12px; font-size: 16px; }
    button { margin-top: 12px; padding: 10px 14px; font-size: 16px; cursor: pointer; }
    .box { margin-top: 18px; padding: 12px; border: 1px solid #ddd; background: #fafafa; white-space: pre-wrap; }
    .small { color: #666; font-size: 13px; margin-top: 6px; }
  </style>
</head>
<body>
  <h1>Automatische Antworten auf Google-Bewertungen</h1>
  <p>Kopiere eine Google-Bewertung hinein und erhalte sofort eine professionelle Antwort.</p>

  <label for="review"><b>Bewertung</b></label>
  <textarea id="review" placeholder="Hier Google-Bewertung einfügen..."></textarea>

  <br />
  <button id="generateBtn">Antwort generieren</button>
  <div class="small" id="status"></div>

  <h3>Antwort</h3>
  <div class="box" id="result">Hier erscheint die Antwort der KI.</div>

  <script>
const API_URL = "/api/generate";

const btn = document.getElementById("generateBtn");
const reviewEl = document.getElementById("review");
const resultEl = document.getElementById("result");
const statusEl = document.getElementById("status");

btn.addEventListener("click", async () => {
  const review = reviewEl.value.trim();
  if (!review) {
    resultEl.textContent = "Bitte zuerst eine Bewertung eingeben.";
    return;
  }

  btn.disabled = true;
  statusEl.textContent = "Generiere Antwort...";
  resultEl.textContent = "";

  try {
    const res = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ review })
    });

    const data = await res.json();

    resultEl.textContent =
      data.reply ||
      data.text ||
      "Keine Antwort erhalten.";
  } catch (e) {
    resultEl.textContent = "Netzwerkfehler";
  } finally {
    btn.disabled = false;
    statusEl.textContent = "";
  }
});
</script>

</body>
</html>


